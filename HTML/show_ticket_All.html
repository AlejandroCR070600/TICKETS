<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="../CSS/close_tickets.css">
  <title>Socket.IO Cliente con Botón</title>
  <script src="https://cdn.socket.io/4.7.0/socket.io.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
      
</head>
<body class="bg-light">
       
    <main class="" style="height: 100%; max-height: 100%;">
        
        <section class="container-fluid bg-light" >
            <article class="row h-100  shadow-sm">
                <aside class="col-12 col-lg-3  p-3 d-flex flex-column aside  rounded-start-3 h-100">
                    <nav class="navbar navbar-expand-lg navbar-light bg-light ">
                        <div class="container">
                                <a class="btn btn-primary px-4 shadow" href="add_Ticket.html">
                            
                            <i class="fa-solid fa-arrow-left"></i> REGRESAR
                            
                        </a>
                        
                        </div>      
                    </nav>
                    
                    <section class="ocultar-scroll d-flex align-items-center justify-content-center" style="height: calc(100vh - 56px); overflow-y: auto;">
                        <div id="showTicket" class="border bg-white d-flex flex-column w-100   rounded-3 p-4 shadow-sm ">

                            <!-- Encabezado -->
                            <div class="d-flex justify-content-between align-items-center border-bottom">
                                <h5 id="sucursalAside" class="text-primary fw-bold mb-0">Sucursal</h5>
                                <h6 id="folioAside" class="text-muted mb-0">#Folio</h6>
                            </div>

                            <div id="proceso-D-none" class=" text-center d-none">
                                <label class="label fw-semibold text-secondary">PROCESO</label>
                                <p class="p" id="procesoAside">---</p>
                            </div>

                              <!-- Descripción -->
                            <div class=" text-center d-flex flex-column justify-content-center p-2 "  >
                                <label class="label fw-semibold text-secondary">DESCRIPCIÓN</label>
                                <div class=" ocultar-scroll"style=" max-height: 100px; overflow-y: auto;">
                                  <p class="p" id="descripcionAside">---</p>
                                </div>
                                
                            </div>

                        

                            <div class="d-flex justify-content-center">
                                <div class="d-flex flex-column justify-content-start">

                                      <!-- Usuario -->
                                  <div class="">
                                      <label class="label fw-semibold text-secondary">PERSONA</label>
                                      <p class="p" id="usuarioAside">---</p>
                                  </div>

                                      <!-- Problema -->
                                  <div class="d-flex flex-column">
                                      <label class="label fw-semibold text-secondary">PROBLEMA</label>
                                      <p class="p w-75" id="problemaAside">---</p>
                                  </div>

                                                           
                                </div>

                                <div class="d-flex flex-column text-end">

                                    <!-- Teléfono -->
                                  <div class="">
                                      <label class="label fw-semibold text-secondary">TELÉFONO</label>
                                      <p class="p" id="telefonoAside">---</p>
                                  </div> 
                                    <!-- IP -->
                                  <div class="d-flex flex-column ">
                                      <label class="label fw-semibold text-secondary">IP</label>
                                      <p class="p" id="ipEquipoAside">---</p>
                                  </div>

                              
                                </div>
                              </div>

                                <!-- Fecha y hora -->
                            <div class=" text-center">
                                <label class="label fw-semibold text-secondary">FECHA Y HORA</label>
                                <p class="p" id="fechaAside">--/--/----</p>
                            </div>


                            
                          

                            <!-- Botón -->
                             
                          
                              
                              
                            
                              
                            
                            
                      <!-- Modal -->
                            <div class="modal fade h-100" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                              <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="exampleModalLabel">AGERGA EL PROCESO QUE SEGUIRA EL TICKET</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                  </div>
                                  <div class="modal-body ">
                                    <div class="d-flex flex-column justify-content-center align-items-center">
                                      
                                      <div class="form-floating">
                                        <input id="inputProceso" class=" form-control" type="text" placeholder="PROCESO">
                                        <label>Agregar Proceso</label>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                    <button id="btnEstatusPendiente" type="button" class="btn btn-primary" data-bs-dismiss="modal">GUARDAR</button>
                                  </div>
                                </div>
                              </div>
                            </div>

                        </div>

<!---------------------------------------------------------- FORMULARIO DE CIERRE DE TICKETS ------------------------------------------------------------>

                      
                        
<!---------------------------------------------------------- MUESTRA LA INFORMACION DE LOS TICKETS CERRADOS ------------------------------------------------------------>

                        <div id="showTicketClose" class="d-none border bg-white d-flex flex-column w-100 h-100   rounded-3 p-4 shadow-sm  ocultar-scroll" style="max-height: 100%; overflow-y: auto;">
                          <!-- Encabezado -->
                          <div class="d-flex justify-content-between align-items-center border-bottom">
                               
                                <h5 id="sucursalClose" class="text-primary fw-bold mb-0">SUCURSAL</h5>
                                <h6 id="folioClose" class="text-muted mb-0">#FOLIO</h6>
                            
                          </div>
                          

                          <!-- Contenedor de datos -->
                          <div class="container-fluid" >
                            
                            <!-- Sección: Información básica -->
                            <h3 class="text-center text-secondary mt-3">TICKET CERRADO</h3>
                             
                         

                            <!-- Fechas -->
                          
                            <div class="d-flex justify-content-around border-bottom text-center">
                              <div class="d-flex flex-column pb-0">
                                <label class="labelTC fw-semibold">Fecha Abierto</label>
                                <p id="fechaAbiertoClose" class=" p "></p>
                              </div>
                              <div class="d-flex flex-column pb-0">
                                <label class="fw-bold labelTC fw-semibold">Fecha Cerrado</label>
                                <p id="fechaCerradoClose" class=" p"></p>
                              </div>
                            
                            </div>
                          
                         

                            <!-- Técnico -->

                              <div class="d-flex justify-content-around align-items-center text-center mt-3">
                                <div class="d-flex flex-column align-items-center justify-content-center">
                                  <div>  
                                    <label class="fw-bold labelTC fw-semibold">Solucionado en</label>
                                    <p id="tiempoSolucionClose" class="p">
                                  </div>
                                  <div>
                                    <label class="fw-bold labelTC fw-semibold">Atendio</label>
                                    <p id="atendioClose" class=" p"></p>
                                  </div>
                                </div>
                            
                          
                                
                                <div class="d-flex flex-column align-items-center justify-content-center">
                                  <div>
                                    <label class="fw-bold labelTC fw-semibold">Turno</label>
                                    <p id="turnoClose" class=" p"></p>
                                  </div>
                            
                                  <div>
                                    <label class="fw-bold labelTC fw-semibold">Modo</label>
                                    <p id="modoClose" class=" p"></p>
                                  </div>
                                </div>
                              </div>
                       

                            <!-- Usuario -->
                           
                              <div class="d-flex justify-content-around text-center border-bottom">
                                <div>
                                  <label class="fw-bold labelTC fw-semibold">Persona</label>
                                  <p id="usuarioClose" class=" p"></p>
                                </div>  
                      
                                <div>  
                                  <label class="fw-bold labelTC fw-semibold">Área</label>
                                <p id="areaClose" class=" p"></p>
                                </div>
                               </div>
                        
                                <div class="d-flex justify-content-around align-items-center text-center my-3 border-bottom">
                                      <div>
                                    <label class="fw-bold labelTC fw-semibold">Teléfono</label>
                                    <p id="telefonoClose" class=" p"></p>
                                </div>

                                  <div class="w-50">
                                    <label class="fw-bold labelTC fw-semibold">Problema</label>
                                  <p id="problemaClose" class=" p "></p>
                                  </div>
                                </div>
                          

                            <!-- Problema y descripción -->
                       
                            
                          
                             <div class="text-center border-bottom">
                                <label class="fw-bold labelTC fw-semibold">Descripción</label>
                              <div class="mb-3 p-2 bg-white ocultar-scroll" style="max-height: 100px; overflow-y: auto;">
                                <p id="descripcionClose" class="mb-0 text-center p"></p>
                              </div>
                             </div>
                          

                            <!-- Diagnóstico -->
                       
                               
                             <div class="d-flex justify-content-center text-center">
                                <div class="">
                                  <label class="fw-bold labelTC fw-semibold">Causa</label>
                                  <p id="causaClose" class=" p"></p>
                                </div>
                       
                                <div>
                                  <label class="fw-bold labelTC fw-semibold">Recomendación</label>
                                 <p id="recomendacionClose" class=" p"></p>
                                </div>
                              </div>
                        

                            <!-- Otros -->
                               <div class="d-flex justify-content-around text-center">
                                 <div>
                                  <label class="fw-bold labelTC fw-semibold">IP</label>
                                <p id="ipEquipoClose" class=" p"></p>
                                </div>
                              
                          
                                <div>
                                  <label class="fw-bold labelTC fw-semibold">Equipo</label>
                                <p id="equipoClose" class=" p"></p>
                                </div>

                                 
                               </div>

                                <div class="border-bottom text-center">
                                    <label class="fw-bold labelTC fw-semibold">Error de sucursal</label>
                                    <p id="errorSucursalClose" class=" p"></p>
                                  </div>
                            
                         
                              

                               <div class="border-bottom mt-3 text-center">
                                  <label class="fw-bold labelTC fw-semibold">Falla real</label>
                                     <div class="bg-white ocultar-scroll" style="max-height: 100px; overflow-y: auto;">
                                       <p id="fallaRealClose" class= "p"></p>
                                    </div>
                                </div>
                            
                          </div>
                          

                        </div>
                    </section>
                </aside>

                <section class="col-lg-9  rounded-end-3  h-100 p-4 d-flex  flex-column justify-content-between ">
                    <div class=" verTicket bg-white border rounded-3 h-100 p-2 shadow-sm ">
                        
                            <div class="h-100 rounded-4 p-4 d-flex justify-content-around flex-column">

                                <!-- FORMULARIO DE BÚSQUEDA -->
                                <article class="mb-4">
                                  <form id="formBuscar" class="row align-items-center">
                                    <div class="col-auto">
                                      <label for="selectBuscar" class="col-12 form-label fw-bold text-primary">Buscar por:</label>
                                    </div>
                                    <div class="col-md-3">
                                      <select id="selectBuscar" class="form-select border-primary shadow-sm">
                                        <option value="folio">Folio</option>
                                        <option value="fecha_Abierto">Fecha</option>
                                        <option value="sucursal">Sucursal</option>
                                        <option value="usuario">Persona</option>
                                        <option value="telefono">Teléfono</option>
                                        <option value="problema">Problema</option>
                                        <option value="area">Area</option>
                                        <option value="equipo">Equipo</option>
                                        <option value="modo">Modo</option>
                                        <option value="admin">Atendio</option>
                                        <option value="turno">turno</option>
                                      </select>
                                    </div>
                                    <div id="divChange" class="col-md-4">
                                      <input id="inputBuscar" type="text" class="form-control border-primary shadow-sm" placeholder="Escribe tu búsqueda">
                                    </div>
                                    <div class="col-auto">
                                      <button type="submit" class="btn btn-primary  shadow-sm">
                                        <i class="fa-solid fa-magnifying-glass "></i> Buscar
                                      </button>
                                  
                                    </div>
                                  </form>
                                </article>

                                <!-- BOTONES DE FILTRO -->
                                <div class="mb-4 d-flex gap-3">
                                  <button id="btnTicketCerrado" class="btn btn-outline-danger flex-grow-1 shadow-sm fw-semibold rounded-pill">
                                    <i class="fa-solid fa-lock me-2"></i> Tickets Cerrados
                                  </button>
                                  <button id="btnTicketPendiente" class="btn btn-outline-warning flex-grow-1 shadow-sm fw-semibold rounded-pill">
                                    <i class="fa-solid fa-unlock me-2"></i> Tickets Pendientes
                                  </button>
                                  <button id="btnTicketAbierto" class="btn btn-outline-success flex-grow-1 shadow-sm fw-semibold rounded-pill">
                                    <i class="fa-solid fa-unlock me-2"></i> Tickets Abiertos
                                  </button>
                                </div>

                                <!-- TABLA CON SCROLL -->
                                <div class="rounded-4 border border-2 shadow-sm" style="height: 700px; max-height: 700px; overflow-y: auto;">
                                <table class="table table-bordered table-hover table-sm align-middle mb-0">
                                    <thead class="text-center bg-primary text-white sticky-top" style="top: 0; z-index: 10;">
                                    <tr>
                                        <th class="text-truncate">Sucursal</th>
                                        <th class="text-truncate">Folio</th>
                                        <th class="text-truncate">Fecha</th>
                                        <th class="text-truncate">Descripción</th>
                                    </tr>
                                    </thead>
                                    <tbody id="tbody" class="text-center">
                                    <!-- Aquí van los registros -->
                                    </tbody>
                                </table>
                                </div>

                            </div>
                            
                    </div>
                </section>
            </article>
            
        </section>
      
    
      
    </main>
  
    <script src="../JS/calcular_Tiempo.js"></script>
    <script src="../JS/buscar_Ticket.js"></script>
    <script src="../JS/btnCambioEstatusJS/selectEstatusTicketUsuario.js"></script>
    <script src="../JS/client_webSocket.js"></script>
    <script src="../JS/show_Ticket_All/asideLIUjs.js"></script>
    <script src="../JS/show_Ticket_All/show_Tickets_Usuario.js"></script>
    <script src="../JS/hover&click.js"></script>
    <script src="../JS/pendiente_Ticket.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
    
</body>
</html>